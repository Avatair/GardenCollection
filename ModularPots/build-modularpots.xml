<project>
    <property name="dir.mcp" value="${user.dir}\..\forge\mcp" />
    <property name="dir.obf" value="${dir.mcp}\reobf\minecraft" />
    <property name="dir.resources" value="${dir.obf}\assets" />
    <property name="dir.out" value="${user.dir}\..\out\ModularPots" />
    <property name="dir.build" value="${dir.mcp}\bin\minecraft" />
    <property name="dir.build.class" value="${dir.build}\com\jaquadro\minecraft" />
    <property name="dir.build.asset" value="${dir.build}\assets" />

    <target name="clean">
        <delete includeemptydirs="true">
            <fileset dir="${dir.build.class}" includes="**/*" excludes="modularpots/**/*" />
            <!--<fileset dir="${dir.build.asset}" includes="**/*" excludes="modularpots/**/*" />-->
        </delete>
    </target>

    <target name="package">
        <delete dir="${dir.obf}" />
        <exec executable="cmd" dir="${dir.mcp}">
            <arg value="/c" />
            <arg value="reobfuscate_srg.bat" />
        </exec>
        <copy file="mcmod.info" todir="${dir.obf}" />
        <copy file="pack.mcmeta" todir="${dir.obf}" />
        <copy todir="${dir.resources}">
            <fileset dir="assets" />
        </copy>
        <zip destfile="${dir.out}\ModularPots.zip"
             basedir="${dir.obf}"
             update="true" />
    </target>
</project>